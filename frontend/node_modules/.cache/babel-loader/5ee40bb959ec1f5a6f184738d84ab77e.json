{"ast":null,"code":"import _slicedToArray from\"C:/Users/magshimim/Desktop/practicum100/around-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Card from'./Card.js';import api from'../utils/api.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getUserInfo().then(function(userInfo){setUserName(userInfo.name);setUserDescription(userInfo.about);setUserAvatar(userInfo.avatar);}).catch(function(error){console.log(error);});api.getInitialCards().then(function(serverCards){setCards(serverCards);}).catch(function(error){console.log(error);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__image-container\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"profile-image\",src:userAvatar,alt:\"\".concat(userName,\"'s avatar'\"),className:\"profile__image\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__image-overlay\",onClick:props.onEditAvatarClick})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container profile__overflow-element\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name profile__overflow-element\",children:userName}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__button profile__button_type_edit\",onClick:props.onEditProfileClick,\"aria-label\":\"Edit profile\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__info profile__overflow-element\",children:userDescription}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__button profile__button_type_add-image\",onClick:props.onAddPlaceClick,\"aria-label\":\"Add image\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"images-container\",children:cards.map(function(cardElement){return/*#__PURE__*/_jsx(Card,{card:cardElement,onCardClick:props.onCardClick},cardElement._id);})})]});}export default Main;","map":{"version":3,"sources":["C:/Users/magshimim/Desktop/practicum100/around-react/src/components/Main.js"],"names":["React","Card","api","Main","props","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","getUserInfo","then","userInfo","name","about","avatar","catch","error","console","log","getInitialCards","serverCards","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","map","cardElement","onCardClick","_id"],"mappings":"0IAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,C,wFAGA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,CACnB,oBAAgCJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,qBAA8CP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA9C,qDAAOG,eAAP,qBAAwBC,kBAAxB,qBACA,qBAAqCT,KAAK,CAACK,QAAN,CAAe,EAAf,CAArC,qDAAOK,UAAP,qBAAoBC,aAApB,qBACA,qBAA0BX,KAAK,CAACK,QAAN,CAAe,EAAf,CAA1B,qDAAOO,KAAP,qBAAcC,QAAd,qBAEAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CACpBZ,GAAG,CAACa,WAAJ,GACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CAChBV,WAAW,CAACU,QAAQ,CAACC,IAAV,CAAX,CACAT,kBAAkB,CAACQ,QAAQ,CAACE,KAAV,CAAlB,CACAR,aAAa,CAACM,QAAQ,CAACG,MAAV,CAAb,CACD,CALD,EAMCC,KAND,CAMO,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CARD,EASApB,GAAG,CAACuB,eAAJ,GACCT,IADD,CACM,SAAAU,WAAW,CAAI,CACnBb,QAAQ,CAACa,WAAD,CAAR,CACD,CAHD,EAICL,KAJD,CAIO,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAND,EAOD,CAjBD,CAiBE,EAjBF,EAoBA,mBACE,cAAM,SAAS,CAAC,SAAhB,wBACA,iBAAS,SAAS,CAAC,SAAnB,wBACE,aAAK,SAAS,CAAC,0BAAf,wBACE,YAAK,EAAE,CAAC,eAAR,CAAwB,GAAG,CAAEZ,UAA7B,CAAyC,GAAG,WAAKJ,QAAL,cAA5C,CAAuE,SAAS,CAAC,gBAAjF,EADF,cAEE,eAAQ,SAAS,CAAC,wBAAlB,CAA2C,OAAO,CAAEF,KAAK,CAACuB,iBAA1D,EAFF,GADF,cAKE,aAAK,SAAS,CAAC,8CAAf,wBACE,WAAI,SAAS,CAAC,yCAAd,UAAyDrB,QAAzD,EADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,2CAAhC,CAA4E,OAAO,CAAEF,KAAK,CAACwB,kBAA3F,CAA+G,aAAW,cAA1H,EAFF,GALF,cASE,UAAG,SAAS,CAAC,yCAAb,UAAwDpB,eAAxD,EATF,cAUE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gDAAhC,CAAiF,OAAO,CAAEJ,KAAK,CAACyB,eAAhG,CAAiH,aAAW,WAA5H,EAVF,GADA,cAaA,gBAAS,SAAS,CAAC,kBAAnB,UAEIjB,KAAK,CAACkB,GAAN,CAAU,SAACC,WAAD,qBAER,KAAC,IAAD,EAAM,IAAI,CAAEA,WAAZ,CAAyB,WAAW,CAAE3B,KAAK,CAAC4B,WAA5C,EAA8DD,WAAW,CAACE,GAA1E,CAFQ,EAAV,CAFJ,EAbA,GADF,CAwBD,CAED,cAAe9B,CAAAA,IAAf","sourcesContent":["import React from 'react';\r\nimport Card from './Card.js';\r\nimport api from '../utils/api.js';\r\n\r\n\r\nfunction Main(props) {\r\n  const [userName, setUserName] = React.useState('');\r\n  const [userDescription, setUserDescription] = React.useState('');\r\n  const [userAvatar , setUserAvatar] = React.useState('');\r\n  const [cards, setCards] = React.useState([]);\r\n  \r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n    .then(userInfo => {\r\n      setUserName(userInfo.name);\r\n      setUserDescription(userInfo.about);\r\n      setUserAvatar(userInfo.avatar);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n    api.getInitialCards()\r\n    .then(serverCards => {\r\n      setCards(serverCards);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  },[]);\r\n\r\n\r\n  return (\r\n    <main className=\"content\">\r\n    <section className=\"profile\">\r\n      <div className=\"profile__image-container\">\r\n        <img id=\"profile-image\" src={userAvatar} alt={`${userName}'s avatar'`} className=\"profile__image\"/>\r\n        <button className=\"profile__image-overlay\" onClick={props.onEditAvatarClick}></button>\r\n      </div>\r\n      <div className=\"profile__container profile__overflow-element\">\r\n        <h1 className=\"profile__name profile__overflow-element\">{userName}</h1>\r\n        <button type=\"button\" className=\"profile__button profile__button_type_edit\" onClick={props.onEditProfileClick} aria-label=\"Edit profile\"></button>\r\n      </div>\r\n      <p className=\"profile__info profile__overflow-element\">{userDescription}</p>\r\n      <button type=\"button\" className=\"profile__button profile__button_type_add-image\" onClick={props.onAddPlaceClick} aria-label=\"Add image\"></button>\r\n    </section>\r\n    <section className=\"images-container\">\r\n      {\r\n        cards.map((cardElement) => \r\n        (\r\n          <Card card={cardElement} onCardClick={props.onCardClick} key={cardElement._id}/>\r\n        ))\r\n      }\r\n    </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}