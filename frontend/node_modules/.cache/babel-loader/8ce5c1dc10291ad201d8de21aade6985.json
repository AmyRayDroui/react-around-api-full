{"ast":null,"code":"import _classCallCheck from\"C:/Users/magshimim/Desktop/practicum100/around-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/magshimim/Desktop/practicum100/around-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"Error: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(function(res){return _this._checkResponse(res);});}},{key:\"setUserInfo\",value:function setUserInfo(data){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:data.name,about:data.info})}).then(function(res){return _this2._checkResponse(res);});}},{key:\"setUserAvatar\",value:function setUserAvatar(data){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:data.link})}).then(function(res){return _this3._checkResponse(res);});}},{key:\"getInitialCards\",value:function getInitialCards(){var _this4=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(function(res){return _this4._checkResponse(res);});}},{key:\"addNewCard\",value:function addNewCard(data){var _this5=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:data.name,link:data.link})}).then(function(res){return _this5._checkResponse(res);});}},{key:\"removeCard\",value:function removeCard(cardId){var _this6=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(function(res){return _this6._checkResponse(res);});}},{key:\"toggleLike\",value:function toggleLike(cardId,addLike){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(cardId),{method:addLike?'PUT':'DELETE',headers:this._headers}).then(function(res){return _this7._checkResponse(res);});}}]);return Api;}();var api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-12\",headers:{authorization:\"9b1558af-91ea-493b-ada9-7496ba6fa8e8\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"sources":["C:/Users/magshimim/Desktop/practicum100/around-react/src/utils/api.js"],"names":["Api","options","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","data","method","body","JSON","stringify","name","about","info","avatar","link","cardId","addLike","api","authorization"],"mappings":"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","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    }).then(res => this._checkResponse(res));\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.info\r\n      })\r\n    }).then(res => this._checkResponse(res));\r\n  }\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.link\r\n      })\r\n    }).then(res => this._checkResponse(res));\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    }).then(res => this._checkResponse(res));\r\n  }\r\n\r\n  addNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    }).then(res => this._checkResponse(res));\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    }).then(res => this._checkResponse(res));\r\n  }\r\n\r\n  toggleLike(cardId, addLike) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: addLike ? 'PUT' : 'DELETE',\r\n      headers: this._headers\r\n    }).then(res => this._checkResponse(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\r\n  headers: {\r\n    authorization: \"9b1558af-91ea-493b-ada9-7496ba6fa8e8\",\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n}); \r\n\r\nexport default api;"]},"metadata":{},"sourceType":"module"}