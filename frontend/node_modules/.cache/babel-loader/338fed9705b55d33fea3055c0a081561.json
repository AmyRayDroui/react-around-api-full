{"ast":null,"code":"import _slicedToArray from\"C:/Users/magshimim/Desktop/practicum100/around-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Card from'./Card.js';import api from'../utils/api.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditAvatarClick=_ref.onEditAvatarClick,onEditProfileClick=_ref.onEditProfileClick,onAddPlaceClick=_ref.onAddPlaceClick,onCardClick=_ref.onCardClick;var _React$useState=React.useState({name:'',description:'',avatar:''}),_React$useState2=_slicedToArray(_React$useState,2),user=_React$useState2[0],setUser=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),cards=_React$useState4[0],setCards=_React$useState4[1];React.useEffect(function(){api.getUserInfo().then(function(userInfo){setUser({name:userInfo.name,description:userInfo.about,avatar:userInfo.avatar});}).catch(function(error){console.log(error);});},[]);React.useEffect(function(){api.getInitialCards().then(function(serverCards){setCards(serverCards);}).catch(function(error){console.log(error);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__image-container\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"profile-image\",src:user.avatar,alt:\"\".concat(user.name,\"'s avatar\"),className:\"profile__image\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__image-overlay\",onClick:onEditAvatarClick})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container profile__overflow-element\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name profile__overflow-element\",children:user.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__button profile__button_type_edit\",onClick:onEditProfileClick,\"aria-label\":\"Edit profile\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__info profile__overflow-element\",children:user.description}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"profile__button profile__button_type_add-image\",onClick:onAddPlaceClick,\"aria-label\":\"Add image\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"images-container\",children:cards.map(function(cardElement){return/*#__PURE__*/_jsx(Card,{card:cardElement,onCardClick:onCardClick},cardElement._id);})})]});}export default Main;","map":{"version":3,"sources":["C:/Users/magshimim/Desktop/practicum100/around-react/src/components/Main.js"],"names":["React","Card","api","Main","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","onCardClick","useState","name","description","avatar","user","setUser","cards","setCards","useEffect","getUserInfo","then","userInfo","about","catch","error","console","log","getInitialCards","serverCards","map","cardElement","_id"],"mappings":"0IAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,C,wFAGA,QAASC,CAAAA,IAAT,MAAqF,IAAtEC,CAAAA,iBAAsE,MAAtEA,iBAAsE,CAAnDC,kBAAmD,MAAnDA,kBAAmD,CAA/BC,eAA+B,MAA/BA,eAA+B,CAAdC,WAAc,MAAdA,WAAc,CACnF,oBAAwBP,KAAK,CAACQ,QAAN,CAAe,CACrCC,IAAI,CAAE,EAD+B,CAErCC,WAAW,CAAE,EAFwB,CAGrCC,MAAM,CAAE,EAH6B,CAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBAKA,qBAA0Bb,KAAK,CAACQ,QAAN,CAAe,EAAf,CAA1B,qDAAOM,KAAP,qBAAcC,QAAd,qBAEAf,KAAK,CAACgB,SAAN,CAAgB,UAAM,CACpBd,GAAG,CAACe,WAAJ,GACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CAChBN,OAAO,CAAC,CACNJ,IAAI,CAAEU,QAAQ,CAACV,IADT,CAENC,WAAW,CAAES,QAAQ,CAACC,KAFhB,CAGNT,MAAM,CAAEQ,QAAQ,CAACR,MAHX,CAAD,CAAP,CAKD,CAPD,EAQCU,KARD,CAQO,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAVD,EAWD,CAZD,CAYE,EAZF,EAcAtB,KAAK,CAACgB,SAAN,CAAgB,UAAM,CACpBd,GAAG,CAACuB,eAAJ,GACCP,IADD,CACM,SAAAQ,WAAW,CAAI,CACnBX,QAAQ,CAACW,WAAD,CAAR,CACD,CAHD,EAICL,KAJD,CAIO,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAND,EAOD,CARD,CAQE,EARF,EAWA,mBACE,cAAM,SAAS,CAAC,SAAhB,wBACA,iBAAS,SAAS,CAAC,SAAnB,wBACE,aAAK,SAAS,CAAC,0BAAf,wBACE,YAAK,EAAE,CAAC,eAAR,CAAwB,GAAG,CAAEV,IAAI,CAACD,MAAlC,CAA0C,GAAG,WAAKC,IAAI,CAACH,IAAV,aAA7C,CAAwE,SAAS,CAAC,gBAAlF,EADF,cAEE,eAAQ,SAAS,CAAC,wBAAlB,CAA2C,OAAO,CAAEL,iBAApD,EAFF,GADF,cAKE,aAAK,SAAS,CAAC,8CAAf,wBACE,WAAI,SAAS,CAAC,yCAAd,UAAyDQ,IAAI,CAACH,IAA9D,EADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,2CAAhC,CAA4E,OAAO,CAAEJ,kBAArF,CAAyG,aAAW,cAApH,EAFF,GALF,cASE,UAAG,SAAS,CAAC,yCAAb,UAAwDO,IAAI,CAACF,WAA7D,EATF,cAUE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gDAAhC,CAAiF,OAAO,CAAEJ,eAA1F,CAA2G,aAAW,WAAtH,EAVF,GADA,cAaA,gBAAS,SAAS,CAAC,kBAAnB,UAEIQ,KAAK,CAACa,GAAN,CAAU,SAACC,WAAD,qBAER,KAAC,IAAD,EAAM,IAAI,CAAEA,WAAZ,CAAyB,WAAW,CAAErB,WAAtC,EAAwDqB,WAAW,CAACC,GAApE,CAFQ,EAAV,CAFJ,EAbA,GADF,CAwBD,CAED,cAAe1B,CAAAA,IAAf","sourcesContent":["import React from 'react';\r\nimport Card from './Card.js';\r\nimport api from '../utils/api.js';\r\n\r\n\r\nfunction Main({onEditAvatarClick, onEditProfileClick, onAddPlaceClick, onCardClick}) {\r\n  const [user, setUser] = React.useState({\r\n    name: '',\r\n    description: '',\r\n    avatar: ''\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n  \r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n    .then(userInfo => {\r\n      setUser({\r\n        name: userInfo.name,\r\n        description: userInfo.about,\r\n        avatar: userInfo.avatar\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  },[]);\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n    .then(serverCards => {\r\n      setCards(serverCards);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  },[]);\r\n\r\n\r\n  return (\r\n    <main className=\"content\">\r\n    <section className=\"profile\">\r\n      <div className=\"profile__image-container\">\r\n        <img id=\"profile-image\" src={user.avatar} alt={`${user.name}'s avatar`} className=\"profile__image\"/>\r\n        <button className=\"profile__image-overlay\" onClick={onEditAvatarClick} />\r\n      </div>\r\n      <div className=\"profile__container profile__overflow-element\">\r\n        <h1 className=\"profile__name profile__overflow-element\">{user.name}</h1>\r\n        <button type=\"button\" className=\"profile__button profile__button_type_edit\" onClick={onEditProfileClick} aria-label=\"Edit profile\" />\r\n      </div>\r\n      <p className=\"profile__info profile__overflow-element\">{user.description}</p>\r\n      <button type=\"button\" className=\"profile__button profile__button_type_add-image\" onClick={onAddPlaceClick} aria-label=\"Add image\" />\r\n    </section>\r\n    <section className=\"images-container\">\r\n      {\r\n        cards.map((cardElement) => \r\n        (\r\n          <Card card={cardElement} onCardClick={onCardClick} key={cardElement._id}/>\r\n        ))\r\n      }\r\n    </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}